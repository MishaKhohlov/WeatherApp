!function e(t,n,i){function s(r,o){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return s(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e,t,n){"use strict";e("./settings_search/searchModel");var i=e("./page_slider/page_sliderController.js"),s=e("./appModel/appModel.js"),a=e("./settings_search/searchController.js"),r=e("./settings_scroll/settings_scrollController.js"),o=e("./settings_degrees/settings_degreesController.js"),l=e("./settings_range/settings_rangeController.js");e("./weather_slider/weather_sliderController"),e("./weather/weatherController.js"),e("./weather_days/weather_daysView.js");var c=e("./sun/sunController.js");$(document).ready(function(){i.page_sliderController.init(),a.searchController.init(),r.settings_scrollController.init(),o.settings_degreesController.init(),l.settings_rangeController.init(),c.sunController.init(),s.modelApp.getUpdateData()})},{"./appModel/appModel.js":2,"./page_slider/page_sliderController.js":6,"./settings_degrees/settings_degreesController.js":9,"./settings_range/settings_rangeController.js":11,"./settings_scroll/settings_scrollController.js":13,"./settings_search/searchController.js":15,"./settings_search/searchModel":16,"./sun/sunController.js":20,"./weather/weatherController.js":22,"./weather_days/weather_daysView.js":26,"./weather_slider/weather_sliderController":29}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../backboneEventsInit.js"),s=e("../forecast_service/forecast_service.js"),a=function(){function e(e,t,n,i){r[e]={latitude:t,longitude:n,name:i},localStorage.setItem("WeatherApp",JSON.stringify(r))}function t(e){var t=[],c=function(e){t.push(new Promise(function(t,i){s.forecast_service.getData(r[e].latitude,r[e].longitude,function(i){n[e]=_.extend(i,{name:r[e].name}),t()},function(){i()})}))};for(var d in r)c(d);Promise.all(t).then(function(){e||(a=Object.keys(n)[0]),localStorage.setItem("WeatherAppData",JSON.stringify(n)),i.gEvent.trigger("dataGet",n,a,o,!1,l)})["catch"](function(){n=JSON.parse(localStorage.getItem("WeatherAppData")),a=Object.keys(n)[0],i.gEvent.trigger("dataGet",n,a,o,!1,l)})}var n={},a=void 0,r=void 0,o=!1,l=void 0,c=void 0,d=0;return"true"===localStorage.getItem("flagTemp")&&(o=!0),localStorage.getItem("flagDay")&&(l=localStorage.getItem("flagDay")),r=localStorage.getItem("WeatherApp")?JSON.parse(window.localStorage.WeatherApp):{},i.gEvent.on("deletedCityList",function(e){if(e){for(var t in e)delete r[t],delete n[t];localStorage.setItem("WeatherApp",JSON.stringify(r)),!n[a]&&Object.keys(r).length&&(a=Object.keys(r)[0]),n[a]?i.gEvent.trigger("dataGet",n,a,o,!1,l):i.gEvent.trigger("resetCity",{})}}),i.gEvent.on("updateViewDays",function(e){l=e,localStorage.setItem("flagDay",l)}),{getUpdateData:function(){c=setInterval(t,18e5),t()},addCity:function(a,c,d,u){Object.keys(r)[0]&&!n[a]?(e(a,d,u,c),s.forecast_service.getData(d,u,function(e){n[a]=_.extend(e,{name:c}),i.gEvent.trigger("dataUpdate",n,a,o,!1,l)}),localStorage.setItem("WeatherAppData",JSON.stringify(n))):0===Object.keys(r).length?(e(a,d,u,c),t()):i.gEvent.trigger("deletedCityList",{})},getCurentCity:function(){return a},changeCurentCity:function(e){a=Object.keys(n)[e],i.gEvent.trigger("slideChange",n,a)},getPreviousPhase:function(){return d},setPreviousPhase:function(e){d=e},changeTemp:function(e){o=e,localStorage.setItem("flagTemp",o);var t=!0;i.gEvent.trigger("dataGet",n,a,o,t,l)},reloadData:function(){t(!0)},updateDataInterval:function(e){0!==e&&(c=setInterval(t,1e3*e*60))}}}();n.modelApp=a},{"../backboneEventsInit.js":3,"../forecast_service/forecast_service.js":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign({},Backbone.Events);n.gEvent=i},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i){$.ajax({url:"https://api.forecast.io/forecast/004c891d3227671408bc5f081431dee0/"+e+","+t,jsonp:"callback",dataType:"jsonp",error:i,success:n})}return{getData:function(t,n,i,s){e(t,n,i,s)}}}();n.forecast_service=i},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){function e(){n=new google.maps.places.AutocompleteService,google.maps.event.addDomListener(window,"load",e)}e()}function t(){s=document.createElement("div"),a=new google.maps.Map(s),i=new google.maps.places.PlacesService(a)}var n=void 0,i=void 0,s=void 0,a=void 0;return{init:function(){window.google&&(e(),t())},service:function(){return n},placeInf:function(){return i}}}();n.googleServices=i},{}],6:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../appModel/appModel.js"),a=e("../page_slider/page_sliderView.js"),r=e("../weather/weatherView.js"),o=e("../weather_days/weather_daysView.js"),l=e("../backboneEventsInit.js"),c=e("./page_sliderTemplate.js"),d=i(c),u=new d["default"],_=function(){var e=0,t=void 0,n=0;return l.gEvent.on("dataUpdate",function(e,n,i,s,l){var c=$(u.renderTemplate()),d=$(c).find(".slider_item")[0];a.page_sliderView.renderContainer(c),r.weatherView.render(e[n],d,i),o.weather_daysView.render(e[n],d,i,l),t.reloadSlider(),t.goToSlide(t.getSlideCount()-1)}),l.gEvent.on("dataGet",function(e,i,s,l,c){a.page_sliderView.reset();for(var d in e){var _=$(u.renderTemplate()),f=$(_).find(".slider_item")[0];a.page_sliderView.renderContainer(_),r.weatherView.render(e[d],f,s),o.weather_daysView.render(e[d],f,s,c),t.reloadSlider()}r.weatherView.changeAnimation(e[Object.keys(e)[0]]),n&&n<t.getSlideCount()&&(t.goToSlide(n),r.weatherView.changeAnimation(e[Object.keys(e)[n]]))}),l.gEvent.on("resetCity",function(){a.page_sliderView.reset(),t.destroySlider()}),{init:function(){a.page_sliderView.initElements(),t=a.page_sliderView.elems().slider,t.bxSlider({onSlideAfter:function(){n=t.getCurrentSlide(),s.modelApp.changeCurentCity(n)}}),jQuery.support.touch&&a.page_sliderView.event.slideEv(function(n){"weather_content"===n.target.classList[0]&&(e=n.timeStamp),e+50<n.timeStamp&&(n.gesture.overallVelocityX>0?t.goToNextSlide():t.goToPrevSlide())})},goToNextSities:function(e){t.goToSlide(e)}}}();n.page_sliderController=_},{"../appModel/appModel.js":2,"../backboneEventsInit.js":3,"../page_slider/page_sliderView.js":8,"../weather/weatherView.js":24,"../weather_days/weather_daysView.js":26,"./page_sliderTemplate.js":7}],7:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(){return'<div class="bxslider_item"><div class="slider_item"></div></div>'}};n["default"]=s,t.exports=n["default"]},{}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=void 0,t=void 0,n=void 0;return{initElements:function(){e=$(".page_center"),t=$(".scroll-content"),n=$(".bxslider")},renderContainer:function(e){n.append(e)},reset:function(){n&&n.html("")},event:{slideEv:function(t){e.hammer().bind("swipe",t)}},elems:function(){return{slider:n}}}}();n.page_sliderView=i},{}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../settings_degrees/settings_degreesView.js"),s=e("../appModel/appModel.js"),a=function(){return{init:function(){i.settings_degreesView.initElements(),i.settings_degreesView.event.changeTemp(function(e){"cl"===e.target.attributes["data-temp"].value?s.modelApp.changeTemp(!1):s.modelApp.changeTemp(!0)})}}}();n.settings_degreesController=a},{"../appModel/appModel.js":2,"../settings_degrees/settings_degreesView.js":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e;return{initElements:function(){e=$(".setting_degrees input[name=temp]:radio"),"true"===localStorage.getItem("flagTemp")?$(e[1]).attr("checked",""):$(e[0]).attr("checked","")},event:{changeTemp:function(t){e.change(t)}}}}();n.settings_degreesView=i},{}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../appModel/appModel.js"),s=e("./settings_rangeView.js"),a=e("../backboneEventsInit.js"),r=function(){return{init:function(){s.settings_rangeView.initSlider(),s.settings_rangeView.event.sliderChange1(function(e,t){a.gEvent.trigger("updateViewDays",t.value)}),s.settings_rangeView.event.sliderChange2(function(e,t){i.modelApp.updateDataInterval(t.value)})}}}();n.settings_rangeController=r},{"../appModel/appModel.js":2,"../backboneEventsInit.js":3,"./settings_rangeView.js":12}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return{initSlider:function(){var e=7;localStorage.getItem("flagDay")&&(e=Number(localStorage.getItem("flagDay"))),$("#slider-range-max").slider({range:"max",min:1,max:7,value:e,slide:function(e,t){$("#amount").val(t.value)}}),$("#amount").val($("#slider-range-max").slider("value")),$("#slider-range-max2").slider({range:"max",value:30,min:15,max:60,step:15,slide:function(e,t){$("#amount2").val(t.value)}}),$("#amount2").val($("#slider-range-max2").slider("value"))},event:{sliderChange1:function(e){$("#slider-range-max").slider({change:e})},sliderChange2:function(e){$("#slider-range-max2").slider({change:e})}}}}();n.settings_rangeView=i},{}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../settings_scroll/settings_scrollView.js"),s=e("../backboneEventsInit.js"),a=function(){var e={},t={};return s.gEvent.on("addListCity",function(){e={}}),s.gEvent.on("resetAddData",function(){e={},t={},i.settings_scrollView.resetAddCities()}),s.gEvent.on("deletedCityList",function(){t={}}),{init:function(){i.settings_scrollView.elems().cities.customScroll({vertical:!0,horizontal:!1}),i.settings_scrollView.initElements()},addCities:function(t){e[t.place_id]?delete e[t.place_id]:e[t.place_id]=t,0!==Object.keys(e).length?s.gEvent.trigger("selectCity",e):s.gEvent.trigger("disabledCity",{})},deleteCities:function(e){t[e]?delete t[e]:t[e]="del",s.gEvent.trigger("selectDeleteCity",t)}}}();n.settings_scrollController=a},{"../backboneEventsInit.js":3,"../settings_scroll/settings_scrollView.js":14}],14:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../settings_search/searchModel.js"),a=e("../settings_town/settings_townTemplate.js"),r=i(a),o=e("../settings_town/settings_town_atcmplTemplate.js"),l=i(o),c=e("../settings_scroll/settings_scrollController.js"),d=e("../page_slider/page_sliderController.js"),u=e("../backboneEventsInit.js"),_=new r["default"],f=new l["default"],v=function(){function e(){$(".set_cities__town .set_cities__del_chex").prop("checked",!1)}function t(e){return((e-32)/1.8).toFixed(0)}function n(){$(".set_cities__town").on("click",function(e){"set_cities__check_icon"!==e.target.classList[0]&&"set_cities__del_chex"!==e.target.classList[0]&&d.page_sliderController.goToNextSities($(e.currentTarget).data("slide-index"))})}var i=void 0,a=void 0,r=void 0,o={},l=void 0,g=void 0;return u.gEvent.on("addListCity",function(){e()}),u.gEvent.on("dataUpdate",function(e,t,n){o[t]=e[t],l=n,v.renderData(n)}),u.gEvent.on("dataGet",function(e,t,n){o=e,l=n,v.renderData(n)}),u.gEvent.on("deletedCityList",function(){Object.keys(o).length<1?i.html(""):v.renderData(l)}),{initElements:function(){i=$(".set_cities .custom-scroll_inner")},renderAutocomplite:function(){i&&i.html(""),r=s.searchModel.getAutocompliteData(),r.forEach(function(e,t){a=3===e.terms.length?e.terms[2].value:e.terms[1].value,i.append(f.renderTemplate({city:e.terms[0].value,country:a},t))}),v.event.addCities()},renderData:function(e){"boolean"==typeof e&&(g=e),i&&i.html("");var s=0;for(var a in o){var r=o[a],l=void 0;l=g?r.currently.temperature.toFixed(0):t(r.currently.temperature),i.append(_.renderTemplate({weather_icon:r.currently.icon,temprature:l,city:r.name,weather:r.currently.summary},s,a)),s++}v.event.deleteCities(),n()},event:{addCities:function(){$(".set_cities__town .set_cities__del_chex").on("change",function(e){var t=e.delegateTarget.attributes[2].value;c.settings_scrollController.addCities(r[t])})},deleteCities:function(){$(".set_cities__town .set_cities__del_chex").on("change",function(e){var t=e.delegateTarget.attributes[2].value;c.settings_scrollController.deleteCities(t)})}},manipulateChexbox:function(){var e=$(".set_cities__label");e.is(":visible")?(e.fadeOut(),u.gEvent.trigger("deletedCityList",!1)):e.fadeIn()},elems:function(){return{cities:$(".set_cities")}},resetAddCities:function(){e()}}}();n.settings_scrollView=v},{"../backboneEventsInit.js":3,"../page_slider/page_sliderController.js":6,"../settings_scroll/settings_scrollController.js":13,"../settings_search/searchModel.js":16,"../settings_town/settings_townTemplate.js":18,"../settings_town/settings_town_atcmplTemplate.js":19}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../settings_search/searchModel.js"),s=e("../settings_search/searchView.js"),a=e("../settings_scroll/settings_scrollView.js"),r=e("../backboneEventsInit.js"),o=function(){var e=!1,t=void 0,n=void 0,o={};return r.gEvent.on("selectCity",function(n){e=!0,t=n}),r.gEvent.on("selectDeleteCity",function(e){o=e}),r.gEvent.on("disabledCity",function(){e=!1}),{init:function(){s.searchView.initElements(),i.searchModel.initRequest(),s.searchView.event.acceptDeleteCities(function(){e||0===Object.keys(o).length||(s.searchView.acceptDeleteCitiesDefault(),r.gEvent.trigger("deletedCityList",o),o={})}),s.searchView.event.onAcceptChange(function(i){i.preventDefault(),e?(n=!1,r.gEvent.trigger("addListCity",t),e=!1,s.searchView.acceptDeleteCitiesDefault()):(o&&(o={}),n||(s.searchView.deleteIconActive(),a.settings_scrollView.manipulateChexbox()))}),window.google&&s.searchView.event.onChange(function(t){r.gEvent.trigger("resetAddData",{}),o={},n=t.target.value,n?i.searchModel.getAutocomplite(n).then(function(){a.settings_scrollView.renderAutocomplite()}):(a.settings_scrollView.renderData(),e&&(e=!1))})}}}();n.searchController=o},{"../backboneEventsInit.js":3,"../settings_scroll/settings_scrollView.js":14,"../settings_search/searchModel.js":16,"../settings_search/searchView.js":17}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../backboneEventsInit.js"),s=e("../appModel/appModel.js"),a=e("../google_api/googleApiInit"),r=function(){function e(e){a.googleServices.placeInf().getDetails({placeId:e},function(e,t){t===google.maps.places.PlacesServiceStatus.OK&&s.modelApp.addCity(e.place_id,e.name,e.geometry.location.lat(),e.geometry.location.lng())})}var t={};return i.gEvent.on("addListCity",function(t){for(var n in t)e(t[n].place_id)}),{initRequest:function(){a.googleServices.init()},getAutocomplite:function(e){return new Promise(function(n){a.googleServices.service().getPlacePredictions({input:e,types:["(cities)"]},function(e){t=e,e&&n()})})},getAutocompliteData:function(){return t}}}();n.searchModel=r},{"../appModel/appModel.js":2,"../backboneEventsInit.js":3,"../google_api/googleApiInit":5}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../backboneEventsInit.js"),s=function(){function e(){a.hasClass("icon-check")&&(a.removeClass("icon-check"),a.addClass("icon-delete"))}function t(){o.hasClass("icon-check")&&o.removeClass("icon-check"),a.css("color","white")}var n=void 0,a=void 0,r=void 0,o=void 0;return i.gEvent.on("dataUpdate",function(){s.onDelete(),n.val("")}),i.gEvent.on("selectDeleteCity",function(e){0!==Object.keys(e).length?o.hasClass("icon-check")||o.addClass("icon-check"):t()}),i.gEvent.on("selectCity",function(){a.hasClass("icon-delete")&&(a.removeClass("icon-delete"),a.addClass("icon-check"))}),i.gEvent.on("disabledCity",function(){e()}),i.gEvent.on("addListCity",function(){e(),n.val("")}),i.gEvent.on("resetAddData",function(){s.onDelete()}),i.gEvent.on("resetAddData",function(){t()}),i.gEvent.on("deletedCityList",function(){t()}),{initElements:function(){n=$(".menu_set_search__inp"),a=$(".menu_set_search__del"),o=$(".menu_set_search__addBut"),r=$(".menu_set_search__add_inp")},onAccept:function(){a.hasClass("icon-delete")&&(a.removeClass("icon-delete"),a.addClass("icon-check"))},onDelete:function(){a.hasClass("icon-check")&&(a.removeClass("icon-check"),a.addClass("icon-delete"))},acceptDeleteCitiesDefault:function(){r.prop("checked")?r.prop("checked",!1):r.prop("checked",!0)},deleteIconActive:function(){a.css("color","red")},event:{onChange:function(e){n.on("input",e)},onAcceptChange:function(e){a.on("click",e)},acceptDeleteCities:function(e){o.click(e)}}}}();n.searchView=s},{"../backboneEventsInit.js":3}],18:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e,t,n){return'<div class="set_cities__town" data-slide-index="'+t+'">\n    <div class="set_cities__icon icon-'+e.weather_icon+'"></div>\n    <div class="set_cities__temp">'+e.temprature+'&deg;</div>\n    <div class="set_cities__info">\n        <div class="set_cities__name">'+e.city+'</div>\n        <div class="set_cities__weather">// '+e.weather+'</div>\n    </div>\n    <input type="checkbox" class="set_cities__del_chex" data-name="'+n+'" id="del'+t+'">\n    <label for="del'+t+'" class="set_cities__label set_cities__label--hide">\n        <div class="set_cities__check_icon icon-check"></div>\n    </label>\n</div>'}};n["default"]=s,t.exports=n["default"]},{}],19:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e,t){return'<div class="set_cities__town">\n    <div class="set_cities__info">\n        <div class="set_cities__name">'+e.city+'</div>\n        <div class="set_cities__weather">// '+e.country+'</div>\n    </div>\n    <input type="checkbox" class="set_cities__del_chex" data-index="'+t+'" id="del'+t+'">\n    <label for="del'+t+'" class="set_cities__label">\n        <div class="set_cities__check_icon icon-check"></div>\n    </label>\n</div>'}};n["default"]=s,t.exports=n["default"]},{}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../appModel/appModel.js"),s=e("../sun/sunView.js"),a=e("../backboneEventsInit.js"),r=function(){function e(e,n){var i=void 0,a=void 0;!function f(){i=o-c*Math.cos(r+d*e)-u.offsetWidth/2,a=l-c*Math.sin(r+d*e)-u.offsetWidth/2,_=setTimeout(f,300),s.sunView.render(i.toFixed(2),a.toFixed(2),e),t(e),e>n?(e-=.03,e<n&&clearTimeout(_)):(e+=.03,e>n&&clearTimeout(_))}()}function t(e){i.modelApp.setPreviousPhase(e)}function n(e,t){var n=moment.tz(1e3*e,t);return n.format("HH.mm")}var r=void 0,o=void 0,l=void 0,c=void 0,d=void 0,u=void 0,_=void 0;return a.gEvent.on("resetCity",function(){clearTimeout(_),e(i.modelApp.getPreviousPhase(),0)}),a.gEvent.on("dataUpdate",function(t,a){var r=t[a];if(u||(u=s.sunView.elems().sun_cont),r){var o=n(r.daily.data[0].sunriseTime,r.timezone),l=n(r.daily.data[0].sunsetTime,r.timezone),c=n(r.currently.time,r.timezone),d=i.modelApp.getPreviousPhase(),f=(c-o)/(l-o);clearTimeout(_),e(d,f)}}),a.gEvent.on("slideChange",function(t,s,a,r){if(!r&&t[s]){var o=t[s],l=n(o.daily.data[0].sunriseTime,o.timezone),c=n(o.daily.data[0].sunsetTime,o.timezone),d=n(o.currently.time,o.timezone),u=i.modelApp.getPreviousPhase(),f=(d-l)/(c-l);clearTimeout(_),e(u,f)}}),{init:function(){a.gEvent.on("dataGet",function(t,a,f,v){if(s.sunView.initElements(),u=s.sunView.elems().sun_cont,!v)if(clearTimeout(_),0!==Object.keys(t).length&&a&&u){var g=t[a],p=n(g.daily.data[0].sunriseTime,g.timezone),m=n(g.daily.data[0].sunsetTime,g.timezone),h=n(g.currently.time,g.timezone),w=s.sunView.elems().wind.width(),y=s.sunView.elems().wind.height(),b=y/2;c=b/2+w*w/(8*b);var j=2*Math.acos((c-b)/c),C=2*Math.asin(u.offsetWidth/2/(2*c));d=j+2*C,r=1.5708-d/2,o=w/2,l=b+c;var E=i.modelApp.getPreviousPhase(),M=(h-p)/(m-p);e(E,M)}else e(i.modelApp.getPreviousPhase(),1)})}}}();n.sunController=r},{"../appModel/appModel.js":2,"../backboneEventsInit.js":3,"../sun/sunView.js":21}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){var e=void 0,t=$(window),n=void 0,i=void 0;return{initElements:function(){e=document.getElementById("sunCont"),n=document.getElementById("sun_end"),i=$(".sun")},render:function(t,i,s){n.style.opacity=s.toFixed(2),e.style.left=t+"px",e.style.top=i+"px"},elems:function(){return{sun_cont:e,wind:t}}}}();n.sunView=i},{}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../appModel/appModel.js"),s=e("../weather/weatherView.js"),a=e("../backboneEventsInit.js"),r=function(){a.gEvent.on("domRendered",function(e){s.weatherView.initElement(e),s.weatherView.event.reload(function(){i.modelApp.reloadData()})})}();n.weatherController=r},{"../appModel/appModel.js":2,"../backboneEventsInit.js":3,"../weather/weatherView.js":24}],23:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e,t,n){return'\n      <section class="weather">\n      '+e+'\n        <div class="mobile_center_right">\n          '+t+"\n          "+n+"\n        </div>\n      </section>\n      "}};n["default"]=s,t.exports=n["default"]},{}],24:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../backboneEventsInit.js"),a=e("../weather_primary_info/weather_primary_infoTemplate.js"),r=i(a),o=e("../weather_info/weather_infoTemplate.js"),l=i(o),c=e("./weatherTemplate.js"),d=i(c),u=e("../weather_slider/weather_sliderTemplate.js"),_=i(u),f=new r["default"],v=new l["default"],g=new d["default"],p=new _["default"],m=function(){function e(e){return((e-32)/1.8).toFixed(0)}function t(e,t){var n=moment.tz(1e3*e,t);return{time:n.format("HH")+":"+n.format("mm"),dayWeek:n.format("dddd"),month:n.format("MMMM"),day:n.format("D"),hour:n.format("H.mm")}}function n(){for(var e in w)u&&u.removeClass(e)}function i(e){u&&(u.hide(),w[e.currently.icon]&&(u.show(),u.addClass(w[e.currently.icon])))}function a(e){if(d||(d=$("body")),e){var n=Number(t(e.currently.time,e.timezone).hour),i=Number(t(e.daily.data[0].sunsetTime,e.timezone).hour),s=Number(t(e.daily.data[0].sunriseTime,e.timezone).hour);n<s||n>i?d.css("background",m.night):n<s+1&&n>s?d.css("background",m.morning):n>s+1&&n<i-2?d.css("background",m.day):n>i-2&&n<i-1?d.css("background",m.endDay):d.css("background",m.sunset)}}function r(e,t){var n=100*e.moonPhase,i=100*t.moonPhase;return n>=90?_[0]:n<90&&n>=40&&i<n?_[1]:n<40&&n>=10&&i<n?_[2]:n<40&&n>=10&&i>n?_[3]:n<90&&n>=40&&i>n?_[4]:n<10?_[5]:void 0}function o(e){var t=Math.floor(e/22.5+.5);return h[t%16]}function l(n,i,a){u=$(".weatherAnim");var l=void 0;l=a?n.currently.temperature.toFixed(0):e(n.currently.temperature);for(var c={time:t(n.currently.time,n.timezone).time,cityName:n.name,dayWeek:t(n.currently.time,n.timezone).dayWeek,month:t(n.currently.time,n.timezone).month,day:t(n.currently.time,n.timezone).day,weather_class:n.currently.icon,temp:l,weather_desc:n.currently.summary,icon_moon:r(n.daily.data[0],n.daily.data[1]),moon_info:(100*n.daily.data[0].moonPhase).toFixed(0)},d=[],_=0;_<=24;_++){var m=void 0;m=a?n.hourly.data[_].temperature.toFixed(0):e(n.hourly.data[_].temperature),d.push({time:t(n.hourly.data[_].time,n.timezone).time,temperature:m,icon:n.hourly.data[_].icon})}var h={wet:n.daily.data[0].humidity.toFixed(1),windy:n.currently.windSpeed.toFixed(0),sunrise:t(n.daily.data[0].sunriseTime,n.timezone).time,sunset:t(n.daily.data[0].sunsetTime,n.timezone).time,windBearing:o(n.currently.windBearing)},w=new Promise(function(e){$(i).html(g.renderTemplate(f.renderTemplate(c),p.renderTemplate(d),v.renderTemplate(h))),e()});w.then(function(){$(".bx-viewport").css("height","auto"),s.gEvent.trigger("domRendered",i)})}var c=void 0,d=void 0,u=void 0,_=["full-moon","almost-old","old-moon","grow-moon","almost-full","empty-moon"],m={morning:"linear-gradient(to right, rgb(61, 160, 255) 0%, rgb(22, 110, 239))",day:"linear-gradient(to right, rgb(22, 110, 239) 0%, rgb(2, 70, 148))",endDay:"linear-gradient(to right, rgb(22, 110, 239) 0%, rgb(2, 54, 108))",sunset:"linear-gradient(to right, rgb(248, 159, 0) 0%, rgb(239, 89, 0))",night:"linear-gradient(to right, rgb(21, 24, 78) 0%, rgb(8, 11, 33))"},h=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],w={rain:"rain",drizzle:"rain",snow:"snow"};return s.gEvent.on("slideChange",function(e,t){var s=e[t];n(),i(s),a(s)}),{initElement:function(e){c=$(e).find(".weather_refresh__time_icon")},event:{reload:function(e){c.click(e)}},render:function(e,t,n){l(e,t,n)},changeAnimation:function(e){n(),i(e),a(e)}}}();n.weatherView=m},{"../backboneEventsInit.js":3,"../weather_info/weather_infoTemplate.js":27,"../weather_primary_info/weather_primary_infoTemplate.js":28,"../weather_slider/weather_sliderTemplate.js":30,"./weatherTemplate.js":23}],25:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e){var t='\n      <div class="days_wrapper">\n        <section class="days">\n            '+e.map(function(e){return'<div class="days_inf">\n    <div class="days_inf__day_week">'+e.dayWeek+'</div>\n    <div class="days_inf__icon icon-'+e.icon+'"></div>\n    <div class="days_inf__tempCont">\n        <div class="days_inf__tempRange" style="left: '+e.positionMin+"%; right: "+e.positionMax+"%; top: "+e.positionMin+"%; bottom: "+e.positionMax+'%;">\n            <span class="days_inf__val_min">'+e.minTemp+'&deg;</span>\n            <span class="days_inf__val_max">'+e.maxTemp+"&deg;</span>\n        </div>\n    </div>\n</div>"}).join("")+"\n          </section>\n          </div>\n      ";return t}};n["default"]=s,t.exports=n["default"]},{}],26:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var s=e("../backboneEventsInit.js"),a=e("./weather_daysTemplate.js"),r=i(a),o=new r["default"],l=function(){function e(e){return((e-32)/1.8).toFixed(0)}function t(e,t){var n=moment.tz(1e3*e,t);return{day:n.format("ddd")}}var n=void 0,i=[],a=[];return s.gEvent.on("updateViewDays",function(e){for(var t=0;t<a.length;t++){$(i[t]).find(".days_wrapper").remove();var n=void 0;n=e?a[t].slice(0,e):a[t].slice(0,e.length-1),$(i[t]).append(o.renderTemplate(n))}}),{render:function(s,r,l,c){n=[];var d=void 0,u=void 0,_=void 0;d=s.daily.data[0].temperatureMin,u=s.daily.data[0].temperatureMax,s.daily.data.forEach(function(e){e.temperatureMin<d&&(d=e.temperatureMin),e.temperatureMax>u&&(u=e.temperatureMax)}),_=u-d,s.daily.data.forEach(function(i){var s=void 0,a=void 0;l?(s=i.temperatureMin.toFixed(0),a=i.temperatureMax.toFixed(0)):(s=e(i.temperatureMin),a=e(i.temperatureMax)),n.push({dayWeek:t(i.time).day,icon:i.icon,positionMin:(i.temperatureMin-d)/_*100,positionMax:100-(i.temperatureMax-d)/_*100,minTemp:s,maxTemp:a})}),a.push(n);var f=void 0;f=c?n.slice(0,c):n.slice(0,n.length-1),i.push(r),$(r).append(o.renderTemplate(f))}}}();n.weather_daysView=l},{"../backboneEventsInit.js":3,"./weather_daysTemplate.js":25}],27:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(e){i(this,a),this.renderTemplate=function(e){return'<div class="weather_info">\n    <div class="weather_info__section">\n        <div class="weather_info__icon icon-humidity"></div>\n        <div class="weather_info__wet">'+e.wet+'%</div>\n    </div>\n    <div class="weather_info__section">\n        <div class="weather_info__icon">\n            <div class="weather_info__icon_direction icon-wind-direction"">\n             <span class="icon_direction__value">'+e.windBearing+'</span>\n</div>\n        </div>\n        <div class="weather_info__windy"><span class="weather_info__value">'+e.windy+'</span>\n            <span class="weather_info__pre_windy">m/c</span>\n        </div>\n    </div>\n    <div class="weather_info__section">\n        <div class="weather_info__icon icon-sunrise"></div>\n        <div class="weather_info__sunrice">'+e.sunrise+'</div>\n    </div>\n    <div class="weather_info__section">\n        <div class="weather_info__icon icon-sunset"></div>\n        <div class="weather_info__sunset">'+e.sunset+"</div>\n    </div>\n</div>"}};n["default"]=s,t.exports=n["default"]},{}],28:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e){var t="";return e.cityName.length>12&&(t='style="font-size: 2.8em;"'),' <div class="mobile_center_left">\n      <div class="weather_refresh">\n    <time class="weather_refresh__time">'+e.time+'</time>\n    <div class="weather_refresh__time_icon icon-refresh"></div>\n</div>\n<h1 class="weather_city" '+t+">"+e.cityName+'</h1>\n<h2 class="weather_data">\n    <span class="weather_data__day_week">'+e.dayWeek+'</span>,\n    <span class="weather_data__month">'+e.month+'</span>\n    <span class="weather_data__day">'+e.day+'</span>\n</h2>\n\n<div class="weather_details">\n    <div class="weather_details__icons icon-'+e.weather_class+'"></div>\n    <div class="weather_details__inform">\n        <div class="weather_details__temp">'+e.temp+'&deg;</div>\n        <span class="weather_details__slash">//</span>\n        <span class="weather_details__inform_desc">'+e.weather_desc+'</span>\n    </div>\n    <div class="weather_details__sunrise">\n        <div class="weather_details__sunrise_icon icon-'+e.icon_moon+'"></div>\n        <div class="weather_details__phase_moon">'+e.moon_info+"%</div>\n    </div>\n</div>\n</div>"}};n["default"]=s,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("../weather_slider/weather_sliderView.js"),s=e("../backboneEventsInit.js"),a=function(){return s.gEvent.on("slideChange",function(){i.weather_sliderView.resetSlider()}),s.gEvent.on("domRendered",function(){a.init()}),{init:function(){i.weather_sliderView.initElements();var e=i.weather_sliderView.elems().scrollContent,t=i.weather_sliderView.elems().scrollPane;i.weather_sliderView.elems().scrollbar.slider({slide:function(n,i){e.width()>t.width()?e.css("margin-left",Math.round(i.value/100*(t.width()-e.width()))+"px"):e.css("margin-left",0)}}),jQuery.support.touch&&i.weather_sliderView.initEventTouch()}}}();n.weather_sliderController=a},{"../backboneEventsInit.js":3,"../weather_slider/weather_sliderView.js":31}],30:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function a(){i(this,a),this.renderTemplate=function(e){var t='\n        <div class="weather_slider scroll-pane ui-widget ui-widget-header ui-corner-all">\n          <div class="weather_content scroll-content">\n            '+e.map(function(e){
return'<div class="item_day_time scroll-content-item ui-widget-header">\n                 <div class="item_day_time__time">'+e.time+'</div>\n                 <div class="item_day_time__icon icon-'+e.icon+'"></div>\n                 <div class="item_day_time__temp">'+e.temperature+"&deg;</div>\n               </div>"}).join("")+'\n          </div>\n          <div class="weather_scrollBar scroll-bar-wrap ui-widget-content ui-corner-bottom">\n            <div class="scroll-bar"></div>\n          </div>\n        </div>\n      ';return t}};n["default"]=s,t.exports=n["default"]},{}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){r.find(".ui-slider-handle").css({width:110,"margin-left":-56}),$(".weather_slider .ui-slider-horizontal").width("").width(r.width()-110)}function t(){s.css("margin-left","0px"),$(".weather_slider .ui-slider-handle").css("left","0%")}function n(){e(),setTimeout(e,10)}var i=void 0,s=void 0,a=void 0,r=void 0,o=void 0,l=void 0,c=0,d=0;return{initElements:function(){i=$(".scroll-pane"),s=$(".scroll-content"),o=s.width(),a=$(".weather_slider"),l=a.width(),r=$(".weather_slider .scroll-bar"),r.find(".ui-slider-handle").wrap("<div class='ui-handle-helper-parent'></div>").parent(),n(),$(window).resize(function(){o=s.width(),l=a.width(),e(),t()})},initEventTouch:function(){var e=$(".weather_slider .ui-slider-handle");$(".weather_content").hammer().bind("pan",function(t){"panright"===t.gesture.additionalEvent?d<100&&(d+=.2,d=Number(d.toFixed(1)),c=(o-l)*d/100,s.css("margin-left","-"+c+"px"),e.css("left",+d+"%")):"panleft"===t.gesture.additionalEvent&&d>0&&(d-=.2,d=Number(d.toFixed(1)),c=(o-l)*d/100,s.css("margin-left","-"+c+"px"),e.css("left",+d+"%"))})},elems:function(){return{scrollbar:r,scrollContent:s,scrollPane:i}},resetSlider:function(){t()}}}();n.weather_sliderView=i},{}]},{},[1]);